index.html<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CoreUI Node.js Project</title>
  <!-- Link to Bootstrap CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <!-- Link to CoreUI CSS -->
  <link rel="stylesheet" href="/coreui/css/coreui.min.css">
        <!-- Bootstrap and Bootstrap Toggle Styles -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-toggle/css/bootstrap-toggle.min.css">
    
        <!-- jQuery and Bootstrap Toggle Scripts -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap-toggle/js/bootstrap-toggle.min.js"></script>
  
  <!-- Include Font Awesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  
  
  <style>
    /* Loop OFF - Info color */
    .toggle.off {
        background-color: #17a2b8 !important; /* Bootstrap info color */
        color: white !important;
    }
  
    /* Loop ON - Primary color */
    .toggle-on {
        background-color: #007bff !important; /* Bootstrap primary color */
        color: white !important;
    }
  </style>
  
</head>
<body>
  <div class="container mt-5">
    <h1 class="text-center">Welcome to My CoreUI Node.js Project!</h1>
    <p class="text-center">This is a simple example of using CoreUI with Node.js.</p>
    <button class="btn btn-primary d-block mx-auto">Click Me</button>
  </div>


  <div class="alert alert-primary" role="alert">
    This is a CoreUI alert!
  </div>


  <div class="container mt-5 text-center">
    <video id="video" width="90%" controls>
        <source src="video4.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    <br><br>
    <!-- Play/Pause Button -->
    <input id="playPauseBtn" type="checkbox" data-toggle="toggle" data-on="<i class='fa fa-pause'></i> Pause" data-off="<i class='fa fa-play'></i> Play">

    <!-- Loop Toggle Button -->
    <input id="loopBtn" type="checkbox" data-toggle="toggle" data-on="<i class='fa fa-sync'></i> Loop On" data-off="<i class='fa fa-sync-alt'></i> Loop Off">

      

    <!-- <button id="playPauseBtn">Play/Pause</button> -->
    <input type="range" id="progressBar" value="0">
  </div>



  
  <!-- Link to Bootstrap JS and dependencies -->
  <script src="/js/bootstrap.bundle.min.js"></script>
  <!-- Link to CoreUI JS -->
  <script src="/coreui/js/coreui.bundle.min.js"></script>


<script>
 $(document).ready(function () {
    let video = document.getElementById("video");
    let loopBtn = $("#loopBtn");
    let playPauseBtn = $("#playPauseBtn");

    // Initialize Bootstrap Toggle
    playPauseBtn.bootstrapToggle();
    loopBtn.bootstrapToggle();

    // Prevent multiple triggers
    let isToggling = false;

    // Play/Pause Toggle (User Interaction Required)
    playPauseBtn.change(async function () {
        if (isToggling) return;
        isToggling = true;

        console.log("Toggle changed. Checked:", this.checked);

        if (this.checked) {
            try {
                let playPromise = video.play();
                if (playPromise !== undefined) {
                    await playPromise.catch(error => {
                        console.error("Play request failed:", error);
                    });
                }
                console.log("Video is playing");
            } catch (error) {
                console.error("Play request failed:", error);
            }
        } else {
            video.pause();
            console.log("Video is paused");
        }

        setTimeout(() => isToggling = false, 300);
    });

    // Sync Play/Pause Toggle with Video State
    video.addEventListener("play", function () {
        if (!isToggling) {
            isToggling = true;
            playPauseBtn.bootstrapToggle("on");
            console.log("Video started playing, updating toggle button");
            setTimeout(() => isToggling = false, 300);
        }
    });

    video.addEventListener("pause", function () {
        if (!isToggling) {
            isToggling = true;
            playPauseBtn.bootstrapToggle("off");
            console.log("Video paused, updating toggle button");
            setTimeout(() => isToggling = false, 300);
        }
    });

    // Loop Toggle
    loopBtn.change(function () {
        video.loop = this.checked;
        console.log("Loop toggled:", this.checked ? "ON" : "OFF");
    });

    // Ensure the video is loaded correctly
    video.addEventListener("loadeddata", () => {
        console.log("Video loaded successfully!");
    });

    video.addEventListener("error", (e) => {
        console.error("Error loading video:", e);
    });
});

 </script>
</body>
</html>